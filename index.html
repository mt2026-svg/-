<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鈴蘭台駅 発車タイマー</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; text-align: center; background: #eef2f3; margin: 0; padding-top: 50px; }
        .card { background: white; border-radius: 20px; padding: 30px; display: inline-block; box-shadow: 0 10px 20px rgba(0,0,0,0.1); width: 90%; max-width: 400px; }
        h1 { color: #333; font-size: 1.4rem; margin-bottom: 5px; }
        .station { color: #d62828; font-weight: bold; margin-bottom: 20px; }
        #timer { font-size: 4.5rem; font-weight: bold; color: #d62828; margin: 10px 0; font-variant-numeric: tabular-nums; }
        #next-train { font-size: 1.2rem; color: #555; background: #f8f9fa; padding: 10px; border-radius: 10px; }
        .mode-selector { margin-top: 20px; display: flex; justify-content: center; gap: 10px; }
        button { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .active { background: #d62828; color: white; }
        .inactive { background: #ccc; color: #666; }
    </style>
</head>
<body>
    <div class="card">
        <h1>次の電車まで</h1>
        <div class="station">鈴蘭台駅（上り：新開地方面）</div>
        <div id="timer">00:00</div>
        <div id="next-train">--:-- 発</div>

        <div class="mode-selector">
            <button id="btn-weekday" class="active" onclick="setMode('weekday')">平日</button>
            <button id="btn-holiday" class="inactive" onclick="setMode('holiday')">土休日</button>
        </div>
    </div>

    <script>
        const schedules = {
            weekday: [
                "04:55", "05:13", "05:27", "05:40", "05:51", "06:01", "06:10", "06:18", "06:26", "06:33", "06:40", "06:47", "06:54", "07:01", "07:07", "07:13", "07:19", "07:25", "07:31", "07:37", "07:43", "07:49", "07:55", "08:01", "08:08", "08:15", "08:22", "08:30", "08:38", "08:46", "08:54", "09:02", "09:10", "09:18", "09:28", "09:38", "09:48", "09:58", "10:08", "10:23", "10:38", "10:53", "11:08", "11:23", "11:38", "11:53", "12:08", "12:23", "12:38", "12:53", "13:08", "13:23", "13:38", "13:53", "14:08", "14:23", "14:38", "14:53", "15:08", "15:23", "15:38", "15:53", "16:08", "16:21", "16:33", "16:45", "16:57", "17:09", "17:21", "17:33", "17:45", "17:57", "18:09", "18:21", "18:33", "18:45", "18:57", "19:09", "19:21", "19:33", "19:45", "19:57", "20:10", "20:25", "20:40", "20:55", "21:10", "21:25", "21:40", "21:55", "22:10", "22:25", "22:45", "23:05", "23:25", "23:45", "00:05"
            ],
            holiday: [
                "04:55", "05:13", "05:27", "05:40", "05:54", "06:07", "06:20", "06:33", "06:45", "06:57", "07:09", "07:21", "07:33", "07:45", "07:57", "08:09", "08:21", "08:33", "08:45", "08:57", "09:09", "09:23", "09:38", "09:53", "10:08", "10:23", "10:38", "10:53", "11:08", "11:23", "11:38", "11:53", "12:08", "12:23", "12:38", "12:53", "13:08", "13:23", "13:38", "13:53", "14:08", "14:23", "14:38", "14:53", "15:08", "15:23", "15:38", "15:53", "16:08", "16:23", "16:38", "16:53", "17:08", "17:23", "17:38", "17:53", "18:08", "18:23", "18:38", "18:53", "19:08", "19:23", "19:40", "19:55", "20:10", "20:25", "20:40", "20:55", "21:10", "21:25", "21:40", "21:55", "22:15", "22:35", "22:55", "23:15", "23:35", "23:55"
            ]
        };

        let currentMode = (new Date().getDay() === 0 || new Date().getDay() === 6) ? 'holiday' : 'weekday';

        function setMode(mode) {
            currentMode = mode;
            document.getElementById('btn-weekday').className = (mode === 'weekday') ? 'active' : 'inactive';
            document.getElementById('btn-holiday').className = (mode === 'holiday') ? 'active' : 'inactive';
            updateTimer();
        }

        function updateTimer() {
            const now = new Date();
            const nowStr = now.getHours().toString().padStart(2, '0') + ":" + now.getMinutes().toString().padStart(2, '0');
            
            const timetable = schedules[currentMode];
            let next = timetable.find(t => t > nowStr) || timetable[0];
            
            const [h, m] = next.split(':').map(Number);
            const target = new Date();
            target.setHours(h, m, 0);
            if (target < now) target.setDate(target.getDate() + 1);
            
            const diff = Math.floor((target - now) / 1000);
            const min = Math.floor(diff / 60);
            const sec = diff % 60;

            document.getElementById('timer').innerText = `${min}:${sec.toString().padStart(2, '0')}`;
            document.getElementById('next-train').innerText = `次回の発車時刻: ${next}`;
        }

        // 初期表示で土日判定を反映
        setMode(currentMode);
        setInterval(updateTimer, 1000);
    </script>
</body>
</html>
